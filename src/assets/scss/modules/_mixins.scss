/*!
 * Copyright (c) 2019 Elias Häußler <elias@haeussler.dev>. All rights reserved.
 */

$breakpoints: (
  small: 640,
  medium: 1024,
  large: 1440
);

@mixin breakpoint($configuration) {

  // Get breakpoint and direction (default direction is "up")
  $direction: up;
  $breakpoint: null;
  @if length($configuration) == 2 {
    $breakpoint: nth($configuration, 1);
    $dir: nth($configuration, 2);
    @if index((up, down), $dir) {
      $direction: $dir;
    }
  } @else {
    $breakpoint: $configuration;
  }

  // Define size
  $size: 0;
  @if map-has-key($breakpoints, $breakpoint) {
    $size: map-get($breakpoints, $breakpoint);
  } @else {
    @error "Unknown breakpoint `#{$breakpoint}`. Use one of `#{map-keys($breakpoints)}` instead.";
  }

  @if $direction == down {
    @media screen and (max-width: #{$size - 1}px) {
      @content;
    }
  } @else {
    @media screen and (min-width: #{$size}px) {
      @content;
    }
  }
}
